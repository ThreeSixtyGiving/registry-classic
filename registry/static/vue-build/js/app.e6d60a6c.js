(function(t){function a(a){for(var s,n,l=a[0],o=a[1],c=a[2],u=0,h=[];u<l.length;u++)n=l[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&h.push(i[n][0]),i[n]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);d&&d(a);while(h.length)h.shift()();return r.push.apply(r,c||[]),e()}function e(){for(var t,a=0;a<r.length;a++){for(var e=r[a],s=!0,l=1;l<e.length;l++){var o=e[l];0!==i[o]&&(s=!1)}s&&(r.splice(a--,1),t=n(n.s=e[0]))}return t}var s={},i={app:0},r=[];function n(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=s,n.d=function(t,a,e){n.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)n.d(e,s,function(a){return t[a]}.bind(null,s));return e},n.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(a,"a",a),a},n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},n.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=a,l=l.slice();for(var c=0;c<l.length;c++)a(l[c]);var d=o;r.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"0260":function(t,a,e){},"0fb6":function(t,a,e){},"13d7":function(t,a,e){"use strict";e("4640")},"1ff7":function(t,a,e){"use strict";e("4abc")},"21b0":function(t,a,e){t.exports=e.p+"../../static/vue-build/img/cc.5e3c5ec4.svg"},"31ad":function(t,a,e){"use strict";e("9849")},3939:function(t,a,e){"use strict";e("0fb6")},"3b13":function(t,a,e){},"3b2b":function(t,a,e){"use strict";e("4bd4")},"3e95":function(t,a,e){t.exports=e.p+"../../static/vue-build/img/info.0d4c74a5.svg"},4640:function(t,a,e){},"4abc":function(t,a,e){},"4bd4":function(t,a,e){},"4dde":function(t,a,e){"use strict";e("0260")},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var s=e("2b0e"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("router-view")},r=[],n={name:"App"},l=n,o=e("2877"),c=Object(o["a"])(l,i,r,!1,null,null,null),d=c.exports,u=e("8c4f"),h=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"layout layout--single-column"},[e("Nav"),e("hr",{staticClass:"separator-light"}),e("main",[e("div",{staticClass:"layout__content dashboard-page"},[e("TopStats"),e("Tabs"),e("router-view")],1)]),e("Footer")],1)},_=[],v=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},b=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"nav-bar nav-bar--minimal"},[s("a",{staticClass:"nav-bar__home-button",attrs:{href:"/"}},[s("img",{attrs:{src:e("8369"),alt:"360Registry"}}),s("span",{staticClass:"nav-bar__product-name"},[t._v("Dashboard")])]),s("nav",{staticClass:"nav-bar__nav-menu"},[s("ul",[s("li",{staticClass:"nav-menu__item"},[t._v(" Based on data published by UK grantmakers in the 360Giving Data Standard ")])])])])}],p={name:"Nav"},m=p,f=Object(o["a"])(m,v,b,!1,null,null,null),g=f.exports,y=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},C=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"cards-section"},[e("section",{staticClass:"grid grid--four-columns"},[e("div",{staticClass:"base-card base-card--yellow grid__1"},[e("div",{staticClass:"base-card__content"},[e("h2",{staticClass:"base-card__title"},[t._v("589,282")]),e("p",{staticClass:"base-card__text"},[t._v("Grants")])])]),e("div",{staticClass:"base-card base-card--orange grid__1"},[e("div",{staticClass:"base-card__content"},[e("h2",{staticClass:"base-card__title"},[t._v("260,921")]),e("p",{staticClass:"base-card__text"},[t._v("Recipients")])])]),e("div",{staticClass:"base-card base-card--teal grid__1"},[e("div",{staticClass:"base-card__content"},[e("h2",{staticClass:"base-card__title"},[t._v("172")]),e("p",{staticClass:"base-card__text"},[t._v("Funders")])])]),e("div",{staticClass:"base-card base-card--red grid__1"},[e("div",{staticClass:"base-card__content"},[e("h2",{staticClass:"base-card__title"},[t._v("£107.9bn")]),e("p",{staticClass:"base-card__text"},[t._v("Total")])])])])])}],w={name:"TopStats"},x=w,k=(e("31ad"),Object(o["a"])(x,y,C,!1,null,"0731f5ce",null)),I=k.exports,D=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},O=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("footer",{staticClass:"layout__footer"},[e("footer",{staticClass:"footer footer--compact"},[e("div",{staticClass:"footer__row wrapper footer__small-print"},[e("div",{staticClass:"footer__column-1"},[e("div",{staticClass:"footer__logo"},[e("img",{attrs:{src:"/images/360-giving-logo-white.svg",alt:"360Giving"}})])]),e("div",{staticClass:"footer__column-2 footer__policy-links"},[e("p",[e("strong",[t._v("360 Giving")]),t._v(" (Trading as "),e("strong",[t._v("360Giving")]),t._v(") is a registered charity "),e("a",{attrs:{href:"https://register-of-charities.charitycommission.gov.uk/charity-details/?regId=1164883&subId=0"}},[t._v("1164883")]),t._v(" and a registered company "),e("a",{attrs:{href:"https://beta.companieshouse.gov.uk/company/09668396"}},[t._v("09668396")]),t._v(". "),e("br"),t._v("Registered address: 360Giving, c/o Esmée Fairbairn Foundation, Kings Place, 90 York Way, London N1 9AG. ")])])]),e("div",{staticClass:"footer__row wrapper footer__small-print"},[e("div",{staticClass:"footer__column-2"},[e("p",[t._v("© Copyright 2021 360Giving."),e("br"),t._v("Licensed under a "),e("a",{attrs:{href:"#",target:"_blank"}},[t._v("Creative Commons Attribution 4.0 International License")]),t._v(".")])]),e("div",{staticClass:"footer__column-2 footer__policy-links hide-print"},[e("p",[e("a",{attrs:{href:"#"}},[t._v("Privacy Notice")]),t._v(" | "),e("a",{attrs:{href:"#"}},[t._v("Terms & Conditions")]),t._v(" | "),e("a",{attrs:{href:"#"}},[t._v("Cookie Policy")]),t._v(" | "),e("a",{attrs:{href:"#"}},[t._v("Take Down Policy")]),t._v(" | "),e("a",{attrs:{href:"#"}},[t._v("License")])])])])])])}],M={name:"Footer"},S=M,P=Object(o["a"])(S,D,O,!1,null,null,null),T=P.exports,j=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",["publisher"!==t.$router.currentRoute.name?e("div",{staticClass:"tabs"},[e("span",{class:"tab tab"+("overview"===t.$router.currentRoute.name?"--active":"--inactive")},[e("a",{staticClass:"tab__inner",attrs:{href:"/overview"}},[t._v("Overview")])]),e("span",{class:"tab tab"+("publishers"===t.$router.currentRoute.name?"--active":"--inactive")},[e("a",{staticClass:"tab__inner",attrs:{href:"/publishers"}},[t._v("Publishers")])]),e("span",{staticClass:"tabs-empty-bar"})]):t._e(),"publisher"===t.$router.currentRoute.name?e("div",[e("a",{staticClass:"dashboard-page__back-link",attrs:{href:"/publishers"}},[e("MaterialIcon",{attrs:{iconName:"arrow_back"}}),t._v(" Back to Publishers ")],1)]):t._e()])},E=[],F=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"icon"},[t.overlaidText?e("span",{staticClass:"icon__overlaid-text"},[t._v(t._s(t.overlaidText))]):e("i",{staticClass:"material-icons icon__mat-icon"},[t._v(t._s(t.iconName))])])},$=[],N={name:"MaterialIcon",props:{overlaidText:null,iconName:null}},L=N,A=(e("6761"),Object(o["a"])(L,F,$,!1,null,"33b0dbda",null)),G=A.exports,B={name:"Tabs",components:{MaterialIcon:G}},R=B,q=(e("62ca"),Object(o["a"])(R,j,E,!1,null,null,null)),Y=q.exports,J={name:"HomePage",components:{Nav:g,TopStats:I,Footer:T,Tabs:Y}},X=J,U=(e("858b"),Object(o["a"])(X,h,_,!1,null,"510c3ad0",null)),z=U.exports,H=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"dashboard-page__section-radios"},[e("RadioButtons",{attrs:{overviewMode:t.overviewMode},on:{setOverviewMode:function(a){return t.setOverviewMode(a)}}})],1),e("div",{staticClass:"spacer-2 clearfix"}),t._l(t.cards,(function(a,s){return e("DashboardCard",{key:"card-"+s,attrs:{overviewMode:t.overviewMode,cardData:a},on:{showModalEvent:function(a){return t.controlModal(!0)}}})})),t.showModal?e("Modal",{on:{hideModalEvent:function(a){return t.controlModal(!1)}}}):t._e()],2)},K=[],V=(e("d3b7"),e("99af"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{class:"dashboard-stats-card "+("grant"===t.overviewMode?"dashboard-stats-card--grant":"")},[e("div",{staticClass:"dashboard-stats-card__head"},[e("div",{staticClass:"dashboard-stats-card__left-side"},[e("h3",{staticClass:"dashboard-stats-card__title"},[t._v(t._s(t.cardData.title))]),e("p",{staticClass:"dashboard-stats-card__description"},[t._v(t._s(t.cardData.description))])]),t.cardData.infoLabel?e("div",{staticClass:"dashboard-stats-card__right-side"},[e("AlertTag",t._g({attrs:{label:t.cardData.infoLabel}},t.$listeners))],1):t._e()]),e("div",{staticClass:"dashboard-stats-card__groups"},t._l(t.cardData.stats,(function(a,s){return e("div",{key:s,staticClass:"dashboard-stats-card__group"},[e("MaterialIcon",{attrs:{iconName:a.iconName}}),e("span",{attrs:{id:"stat-"+s}},[t._v(t._s(a.label))]),e("span",{staticClass:"dashboard-stats-card__value",attrs:{"aria-labelledby":"stat-"+s}},[t._v(t._s(a.value))])],1)})),0),e("div",{staticClass:"spacer-2"}),t.cardData.graph?e("div",[e("hr",{staticClass:"separator-light"}),e("div",{staticClass:"graph-label"},[t._v(t._s(t.cardData.graph_description))]),e("Plotly",{attrs:{data:t.cardData.graph.data,layout:t.cardData.graph.layout}})],1):t._e()])}),W=[],Q=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"alert-tag alert-tag--anchor",on:{click:function(a){return t.showModal()}}},[t._m(0),e("span",{staticClass:"alert-tag__content"},[t._v(t._s(t.label))])])},Z=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("span",{staticClass:"alert-tag__icon"},[s("img",{attrs:{src:e("3e95"),alt:""}})])}],tt={name:"AlertTag",props:{href:{type:String,default:""},label:{type:String,default:""}},methods:{showModal:function(){this.$emit("showModalEvent")}}},at=tt,et=Object(o["a"])(at,Q,Z,!1,null,null,null),st=et.exports,it=e("04d1"),rt={name:"DashboardCard",components:{AlertTag:st,MaterialIcon:G,Plotly:it["Plotly"]},props:{overviewMode:String,cardData:{title:"",description:"",infoLabel:"",stats:[{label:"",values:"",iconName:""}]}}},nt=rt,lt=(e("d8f8"),Object(o["a"])(nt,V,W,!1,null,"60932aab",null)),ot=lt.exports,ct=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"radio-buttons"},t._l(t.radioOptions,(function(a){return e("div",{key:a.value,staticClass:"radio-buttons__group",on:{click:function(e){return t.setOverviewMode(a.value)}}},[e("input",{staticClass:"screen-reader-only",attrs:{type:"radio",id:a.value,name:"overviewMode"},domProps:{value:a.value,checked:t.overviewMode===a.value}}),e("label",{staticClass:"radio-buttons__button",attrs:{for:a.value}},[t._v(t._s(a.name))])])})),0)},dt=[],ut={name:"RadioButtons",data:function(){return{radioOptions:[{name:"Publisher",value:"publisher",default:!0},{name:"Grant",value:"grant"}]}},props:{overviewMode:String},methods:{setOverviewMode:function(t){this.$emit("setOverviewMode",t)}}},ht=ut,_t=Object(o["a"])(ht,ct,dt,!1,null,null,null),vt=_t.exports,bt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal modal--shown dashboard-modal",attrs:{id:"modal-00"}},[e("div",{staticClass:"modal__overlay modal__trigger",attrs:{"data-id":"modal-00"},on:{click:t.hideModal}}),e("div",{staticClass:"modal__window"},[e("button",{staticClass:"modal__close modal__trigger",attrs:{"data-id":"modal-00"},on:{click:t.hideModal}}),e("div",{staticClass:"modal__content"},[e("h3",[t._v("Know more: Location")]),e("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.")]),e("hr",{staticClass:"separator-light"}),e("div",{staticClass:"dashboard-modal__groups"},[e("div",{staticClass:"dashboard-modal__group"},[e("div",{staticClass:"dashboard-modal__stat"},[e("span",[e("MaterialIcon",{attrs:{icon_name:t.add_location}})],1),e("span",[t._v("Includes grant location codes")]),e("span",{staticClass:"dashboard-modal__stat-value-placeholder"},[t._v("00%")])])]),t._m(0)])])])])},pt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard-modal__group"},[e("h4",{staticClass:"dashboard-modal__subtitle"},[t._v("This means")]),e("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.")]),e("h4",{staticClass:"dashboard-modal__subtitle"},[t._v("This is useful because")]),e("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.")])])}],mt={name:"Modal",components:{MaterialIcon:G},methods:{hideModal:function(){this.$emit("hideModalEvent")}}},ft=mt,gt=(e("4dde"),Object(o["a"])(ft,bt,pt,!1,null,"5e280e7c",null)),yt=gt.exports,Ct={name:"DashboardPage",components:{DashboardCard:ot,RadioButtons:vt,Modal:yt},props:{publishers:{}},methods:{controlModal:function(t){this.showModal=t},setOverviewMode:function(t){this.overviewMode=t},searchFunction:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.dataDownloaded=!1;var e=null===a?"":["?mode=".concat(a)];fetch("".concat("http://store.dev.default.threesixtygiving.uk0.bigv.io/api/dashboard/","overview").concat(e)).then((function(t){return t.json()})).then((function(a){t.stats=a.stats,t.getCards(),t.dataDownloaded=!0}))},getPercentageString:function(t){return parseInt(100*t)},getCards:function(){this.cards=[{title:"Location data",description:"Grants with location data can be used to map grants, and help people understand where the money goes.\n",infoLabel:"Learn more about location data",stats:[{iconName:"person_pin_circle",label:"Include recipient locations",value:"".concat(this.getPercentageString(this.stats.hasRecipientOrgLocations),"%")},{iconName:"edit_location",label:"Include beneficiary location names",value:"".concat(this.getPercentageString(this.stats.hasBeneficiaryLocationName),"%")},{iconName:"add_location",label:"Include beneficiary location codes",value:"".concat(this.getPercentageString(this.stats.hasBeneficiaryLocationCodes),"%")}]},{title:"Organisation identifiers",description:"Org IDs help users to understand who is involved in each grant. External\norg IDs are used to show when funders give grants to the same\nrecipient and allow grants data to be linked to official sources of\norganisation data.\n",infoLabel:"Learn more about organisation identifiers",stats:[{iconName:"tag",label:"Include charity or company nos.",value:""},{iconName:"confirmation_number",label:"Include external org IDs for at least 50% of recipients",value:""}],graph:{data:[{x:[0,20,40,60,80,100],y:[10,10,10,10,10,10],type:"bar",marker:{color:["#153634","#DE6E26","#4DACB6","#EFC329","#BC2C26","#FFFFF"]}}],layout:{title:"Percentage of recipients with external org IDs",xaxis:{type:"category",title:"# of Publishers"},yaxis:{title:"% with external org IDs"}}}},{title:"Grant data",description:"All 360Giving data includes information about award amounts,\naward dates and the purpose of each grant. Information about the grant\nduration, grant programmes names and classifications help users to\nunderstand more context for each grant.\n",infoLabel:"Learn more about grant data",stats:[{iconName:"event_note",label:"Include grant duration",value:"".concat(this.getPercentageString(this.stats.hasGrantDuration),"%")},{iconName:"format_quote",label:"Include programme names",value:"".concat(this.getPercentageString(this.stats.hasGrantProgrammeTitle),"%")},{iconName:"label",label:"Include classifications",value:"".concat(this.getPercentageString(this.stats.hasGrantClassification),"%")}]},{title:"Metadata",description:"360Giving is a file-based data standard, supporting both spreadsheet and JSON publishing",graph:{data:[{x:[this.getPercentageString(this.stats.csvFiles),this.getPercentageString(this.stats.xlsxFiles),this.getPercentageString(this.stats.odsFiles),this.getPercentageString(this.stats.jsonFiles)],y:["CSV","XLSX","ODF","JSON"],type:"bar",orientation:"h",marker:{color:["#153634","#DE6E26","#4DACB6","#EFC329","#BC2C26","#FFFFF"]}}],layout:{title:"Number of publishers using each file type",yaxis:{type:"category",title:"File type"},xaxis:{title:"% using file type"}}}},{title:"Data updates",description:"Timely updates provide users with an up-to-date picture of grantmaking.\nPublishers make updates at different frequencies; annual, biannual, quarterly, monthly\nor some publish in real-time.\n",infoLabel:"Learn more about data updates",stats:[{iconName:"event_available",label:"Have published in the last year",value:""},{iconName:"event_available",label:"Have published in the last month",value:""}],graph_description:"Publishers with grants awarded in\neach of the past 10 years\n"}]}},created:function(){this.searchFunction("publishers")},data:function(){return{showModal:!1,overviewMode:"publisher",stats:{},cards:[]}}},wt=Ct,xt=(e("d2ec"),Object(o["a"])(wt,H,K,!1,null,"577f5a7b",null)),kt=xt.exports,It=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"layout__content"},[e("div",{staticClass:"layout__content-inner"},[e("DataTable"),e("div",{staticClass:"spacer-2"}),e("SortFilter",{key:t.dataDownloaded,attrs:{publisherList:t.publisherList},on:{filterChange:function(a){return t.searchFunction(a.publisher)}}}),e("div",{staticClass:"spacer-4"}),t.dataDownloaded?t._e():e("div",[e("Spinner",{key:t.dataDownloaded})],1),t.dataDownloaded?[t._l(t.publishers,(function(t){return e("PublisherResult",{key:t.prefix,attrs:{publisher:t}})})),e("div",{staticClass:"spacer-1"})]:t._e()],2)])},Dt=[],Ot=e("ade3"),Mt=e("5530"),St=(e("a15b"),e("b0c0"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard-publisher-result"},[e("div",{staticClass:"dashboard-publisher-result__head"},[e("div",{staticClass:"dashboard-publisher-result__left-side"},[e("a",{staticClass:"dashboard-publisher-result__title"},[t._v(" "+t._s(t.publisher.name)+" ")])]),e("div",{staticClass:"dashboard-publisher-result__right-side"},[e("div",{staticClass:"dashboard-publisher-result__date"},[t._v(" Last update "),e("time",{attrs:{datetime:t.publisher.date_timestamp}},[t._v(t._s(t.publisher.date))])])])]),t._l(t.badges,(function(t,a){return e("span",{key:a,staticClass:"dashboard-publisher-result__badge"},[e("IconBadge",{attrs:{badge:t}})],1)})),e("hr",{staticClass:"separator-light"}),e("h5",[t._v("Total grants published")]),e("div",[e("YearsChart",{attrs:{chart:t.chart}})],1),e("hr",{staticClass:"separator-light"}),e("div",[e("a",{staticClass:"button",attrs:{href:t.$router.resolve({name:"publisher",params:{id:t.publisher.prefix}}).href}},[t._v("See More")])])],2)}),Pt=[],Tt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",{staticClass:"years-chart"},t._l(t.chart,(function(a,s){return e("li",{key:"item-"+s,staticClass:"years-chart__item",style:"--opacity: "+a.value+";"},[e("div",{staticClass:"years-chart__block",attrs:{"aria-label":a.detail,title:a.detail}},[e("span",[t._v(t._s(a.value_text))])]),e("div",{staticClass:"years-chart__label"},[t._v(t._s(a.label))])])})),0)},jt=[],Et={name:"YearsChart",props:{chart:{}}},Ft=Et,$t=(e("5e20"),Object(o["a"])(Ft,Tt,jt,!1,null,"d4c25476",null)),Nt=$t.exports,Lt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"icon-badge"},[e("img",{attrs:{src:"@/assets/images/icons/"+t.badge.iconName+".svg",alt:""}}),t._v(" "+t._s(t.badge.label)+" ")])},At=[],Gt={name:"IconBadge",props:{badge:{}}},Bt=Gt,Rt=(e("ad36"),Object(o["a"])(Bt,Lt,At,!1,null,"ad32cae0",null)),qt=Rt.exports,Yt={name:"PublisherResult",components:{YearsChart:Nt,IconBadge:qt},props:{publisher:{type:Object,required:!0}},data:function(){return{chart:[{label:"Older data",value:.15,value_text:"1.5k",detail:"1.5k grants awarded before 2011"},{label:2011,value:0,value_text:"",detail:"No grants awarded in 2011"},{label:2012,value:0,value_text:"",detail:"No grants awarded in 2012"},{label:2013,value:1,value_text:"10k+",detail:"10k+ grants awarded in 2013"},{label:2014,value:.2,value_text:"2k",detail:"2k grants awarded in 2014"},{label:2015,value:.2,value_text:"2k",detail:"2k grants awarded in 2015"},{label:2016,value:.2,value_text:"2k",detail:"2k grants awarded in 2016"},{label:2017,value:.25,value_text:"2.5k",detail:"2.5k grants awarded in 2017"},{label:2018,value:.05,value_text:"0.5k",detail:"0.5k grants awarded in 2018"},{label:2019,value:.05,value_text:"0.5k",detail:"0.5k grants awarded in 2019"},{label:2020,value:.05,value_text:"0.5k",detail:"0.5k grants awarded in 2020"},{label:2021,value:1.5,value_text:"15k+",detail:"15k+ grants awarded in 2018"}],badges:[{icon_name:"location_on",label:"Include recipient location codes"},{icon_name:"money",label:"Include charity or company nos."},{overlaid_text:"xlsx",label:"Publish using spreadsheets"}]}}},Jt=Yt,Xt=(e("5962"),Object(o["a"])(Jt,St,Pt,!1,null,"82c6f13a",null)),Ut=Xt.exports,zt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"collapsed-table"},[e("details",{staticClass:"collapsed-table__details"},[t._m(0),e("div",{staticClass:"collapsed-table--content"},[e("div",{staticClass:"table table--zebra table--primary-light"},[e("table",[t._l(t.sections,(function(a,s){return[e("thead",{key:"th-"+s},[e("th",{attrs:{colspan:"3"}},[t._v(t._s(a.heading))])]),e("tbody",{key:"tb-"+s},[e("tr",t._l(a.items,(function(a,s){return e("td",{key:"data-"+s,staticClass:"table__lead-cell",attrs:{"data-header":t.header.th1}},[e("img",{attrs:{src:"@/assets/images/icons/"+a.iconName+".svg",alt:""}}),t._v(" "+t._s(a.label)+": "),e("strong",[t._v(t._s(a.value))])])})),0)])]}))],2)])])])])},Ht=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("summary",[s("span",{staticClass:"summary-label"},[t._v("All publishers data")]),s("span",{staticClass:"summary-icon",attrs:{"aria-hidden":"true"}},[s("img",{attrs:{src:e("91ed"),alt:""}})])])}],Kt={name:"DataTable",data:function(){return{header:{th1:"Title",th2:"Description",th3:"Type",th4:"Required"},body:[{row:{cell1:"Identifier",cell2:"The unique identifier for this grant. Made up of your 360Giving prefix, and an identifier from your records. See the 360Giving Grant identifier guidance for details.",cell3:"string",cell4:!0}},{row:{cell1:"Title",cell2:"A title for this grant activity. This should be under 140 characters long.",cell3:"string",cell4:!0}},{row:{cell1:"Description",cell2:"A short description of this grant activity.",cell3:"string",cell4:!0}},{row:{cell1:"Currency",cell2:"The currency used in amounts. Use the three-letter <a href='#'>currency code from ISO 4217</a> eg: Use GBP for Pounds Sterling.",cell3:"string",cell4:!0}},{row:{cell1:"Amount Applied For",cell2:"Total amount applied for in numbers (do not include commas or currency symbols such as £). If you have provided detailed transaction information on a separate table, this should equal the sum of all the application transactions for this grant.",cell3:"number",cell4:!1}},{row:{cell1:"Amount Awarded",cell2:"Total amount awarded in numbers (do not include commas or currency symbols such as £). If you have provided detailed transaction information on a separate table, this should equal the sum of all the award transactions for this grant.",cell3:"number",cell4:!0}},{row:{cell1:"Amount Disbursed",cell2:"Total amount disbursed (paid) to this grantee when this record was last updated (in numbers: do not include commas or currency symbols such as £)). If you have provided detailed transaction information on a separate table, this should equal the sum of all the disbursement transactions for this grant.",cell3:"number",cell4:!1}},{row:{cell1:"Award Date",cell2:"When was the decision to award this grant made. The date should be written as YYYY-MM-DD, or in full date-time format.",cell3:"string",cell4:!0}}],sections:[{heading:"Location",items:[{icon:{icon_name:"add_location"},label:"Include recipient location codes",value:"64%"},{icon:{icon_name:"add_location"},label:"Include grant location name",value:"63%"},{icon:{icon_name:"add_location"},label:"Include grant location codes",value:"62%"}]},{heading:"Organisation Information",items:[{icon:{icon_name:"tag"},label:"Include charity or company nos.",value:"64%"},{icon:{icon_name:"confirmation_number"},label:"Include external org IDs",value:"45%"}]},{heading:"Grant Information",items:[{icon:{icon_name:"event_note"},label:"Include grant duration",value:"57%"},{icon:{icon_name:"format_quote"},label:"Include programme names",value:"56%"},{icon:{icon_name:"label"},label:"Include classifications",value:"55%"}]},{heading:"Files",items:[{icon:{icon_name:"reorder"},label:"Include metadata",value:"81%"},{icon:{overlaid_text:"json"},label:"Publish using JSON",value:"75%"},{icon:{overlaid_text:"xlsx"},label:"Publish using spreadsheets",value:"79%"}]},{heading:"Up To Date",items:[{icon:{icon_name:"event_available"},label:"Published data in the last year",value:"91%"},{icon:{icon_name:"event_available"},label:"Published data in the last month",value:"88%"}]}]}}},Vt=Kt,Wt=(e("1ff7"),Object(o["a"])(Vt,zt,Ht,!1,null,"073ee8eb",null)),Qt=Wt.exports,Zt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h4",[t._v("Sort:")]),e("div",{staticClass:"sort-filters"},t._l(t.filters,(function(a,s){return e("div",{key:"filter-"+s,staticClass:"sort-filters__select-wrapper"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.values[a.id],expression:"values[filter.id]"}],attrs:{if:a.active?"class=sort-filters__filter-active aria-label="+a.status:""},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.values,a.id,e.target.multiple?s:s[0])},function(a){return t.filterChange()}]}},[a.label?e("option",{attrs:{value:""}},[t._v(t._s(a.label))]):t._e(),t._l(a.options,(function(s,i,r){return e("option",{key:"option-"+r,domProps:{value:i,selected:a.activeDefault}},[t._v(t._s(s))])}))],2)])})),0)])},ta=[],aa=(e("ddb0"),{name:"SortFilter",props:{publisherList:{}},data:function(){return{filters:[{id:"sort",active:!0,activeDefault:!0,options:{alphabetically:"Alphabetically",grants:"Total grants",amount:"Total amount"}},{id:"publisher",label:"Filter by publisher",active:!0,options:this.publisherList},{id:"feature",label:"Filter by data feature",active:!0,options:{metadata:"Include metadata",externalIds:"Include external org IDs",locationCode:"Include location codes"}},{id:"file",label:"Filter by data file",active:!0,options:{csv:"CSV",json:"JSON",xlsx:"XLSX",ods:"ODS"}}],values:{sort:"alphabetically",publisher:"",feature:"",file:""}}},methods:{filterChange:function(){this.$emit("filterChange",this.values)}}}),ea=aa,sa=(e("3939"),Object(o["a"])(ea,Zt,ta,!1,null,"bd665c8e",null)),ia=sa.exports,ra=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},na=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"lds-ellipsis"},[e("div"),e("div"),e("div"),e("div")])}],la={name:"Spinner"},oa=la,ca=(e("d5fb"),Object(o["a"])(oa,ra,na,!1,null,"e0903488",null)),da=ca.exports,ua={name:"PublisherPage",components:{PublisherResult:Ut,DataTable:Qt,SortFilter:ia,Spinner:da},methods:{searchFunction:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.dataDownloaded=!1;var e=null===a?"":["&search=".concat(a)].join("&");fetch("".concat("http://store.dev.default.threesixtygiving.uk0.bigv.io/api/dashboard/","/publishers?format=json").concat(e)).then((function(t){return t.json()})).then((function(a){t.publishers=a,t.publisherList=a.reduce((function(t,a){return Object(Mt["a"])(Object(Mt["a"])({},t),{},Object(Ot["a"])({},a.prefix,a.name))}),t.publisherList),t.dataDownloaded=!0}))}},data:function(){return{publishers:{},publisherList:{},dataDownloaded:!1}},created:function(){this.searchFunction()}},ha=ua,_a=Object(o["a"])(ha,It,Dt,!1,null,null,null),va=_a.exports,ba=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard-publisher-result-wrapper"},[e("div",{staticClass:"dashboard-publisher-result__head"},[e("div",{staticClass:"dashboard-publisher-result__left-side"},[e("div",{staticClass:"dashboard-publisher-result__title"},[t._v(" "+t._s(t.publisher.title)+" ")])]),e("div",{staticClass:"dashboard-publisher-result__right-side"},[e("div",{staticClass:"dashboard-publisher-result__date"},[t._v(" Last update "),e("time",{attrs:{datetime:t.publisher.date_timestamp}},[t._v(t._s(t.publisher.date))])])])]),t._l(t.publisher.badges,(function(t,a){return e("span",{key:a,staticClass:"dashboard-publisher-result__badge"},[e("IconBadge",{attrs:{badge:t}})],1)})),e("hr",{staticClass:"separator-light"}),e("div",{staticClass:"spacer-1"}),e("div",{staticClass:"dashboard-publisher-result-wrapper__external-buttons align-right"},[e("a",{staticClass:"button",attrs:{href:"https://grantnav.threesixtygiving.org/publisher/"+t.publisher.prefix,target:"_blank"}},[t._v("See in GrantNav")]),e("a",{staticClass:"button button--black",attrs:{href:"#",target:"_blank"}},[t._v("See in 360Insights")])]),e("div",{staticClass:"spacer-3"}),e("div",{staticClass:"dashboard-publisher-result"},[e("h4",{staticClass:"dashboard-publisher-result__title"},[t._v("Total grants published")]),e("p",[t._v("The number of grants published by award year for the past 10 years, with the total grants published that were awarded 11 or more years ago.")]),e("YearsChart",{attrs:{chart:t.publisher.chart}})],1),e("div",{staticClass:"dashboard-publisher-result"},[e("h4",{staticClass:"dashboard-publisher-result__title"},[t._v("Datasets")]),e("p",[t._v(t._s(t.publisher.files_description))]),t._l(t.publisher.fileSummaries,(function(t,a){return e("FileSummary",{key:"summary-"+a,attrs:{summary:t}})}))],2)],2)},pa=[],ma=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"file-summary grid grid--three-columns"},[s("div",{staticClass:"grid__1"},[t._v(" "+t._s(t.summary.description)+" ")]),s("div",{staticClass:"grid__1 align-right"},[s("span",{staticClass:"file-summary__label"},[t._v("Records")]),s("span",{staticClass:"file-summary__stat"},[t._v(t._s(t.summary.num_records))])]),s("div",{staticClass:"grid__1 align-right"},[s("span",{staticClass:"file-summary__label"},[t._v("Total Grants £")]),s("span",{staticClass:"file-summary__stat"},[t._v(t._s(t.summary.grant_total_shorthand))])]),s("div",{staticClass:"grid__1"},[s("span",{staticClass:"tag file-summary__specs"},[t._v(t._s(t.summary.file_type)+" – "+t._s(t.summary.file_size))])]),s("div",{staticClass:"grid__1 align-right"},[s("span",{staticClass:"file-summary__label"},[t._v("Valid data")]),t.summary.validData?s("MaterialIcon",{attrs:{iconName:"check_circle_outline"}}):s("MaterialIcon",{attrs:{iconName:"priority_high"}})],1),s("div",{staticClass:"grid__1 align-right"},[s("span",{staticClass:"file-summary__label"},[t._v("Licence")]),"cc"===t.summary.licence?s("span",{staticClass:"file-summary__native-icon"},[s("img",{attrs:{src:e("21b0"),alt:""}})]):s("span",{staticClass:"file-summary__stat"},[t._v(t._s(t.summary.licence))])])])},fa=[],ga={name:"FileSummary",components:{MaterialIcon:G},props:{summary:{}}},ya=ga,Ca=(e("13d7"),Object(o["a"])(ya,ma,fa,!1,null,"3e584f23",null)),wa=Ca.exports,xa={name:"PublisherDetail",components:{YearsChart:Nt,FileSummary:wa,IconBadge:qt},methods:{},data:function(){return{publisher:{title:"AB Charitable Trust",prefix:"360G-ABCT",date:"22 Aug 2017",date_timestamp:"2017-08-22",badges:[{iconName:"location_on",label:"Include recipient location codes"},{iconName:"money",label:"Include charity or company nos."},{overlaid_text:"xlsx",label:"Publish using spreadsheets"}],files_description:"The file(s) published by AB Charitable Trust are linked\nbelow, with details of the file type and open license for each file.\n",fileSummaries:[{description:"Grants from Jan 2013 to Jan 2021",num_records:783,grant_total_shorthand:"12.8m",file_type:"XLSX",file_size:"194kB",valid_data:!0,licence:"cc"}]}}},created:function(){}},ka=xa,Ia=(e("3b2b"),Object(o["a"])(ka,ba,pa,!1,null,"4178fc68",null)),Da=Ia.exports;s["a"].use(u["a"]);var Oa=[{path:"/",redirect:"/overview"},{path:"/",component:z,children:[{path:"/overview",name:"overview",component:kt},{path:"/publishers",name:"publishers",component:va},{path:"/publisher/:id",name:"publisher",component:Da}]}],Ma=new u["a"]({mode:"history",routes:Oa}),Sa=Ma;s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(d)},router:Sa,components:{App:d}}).$mount("#app")},5962:function(t,a,e){"use strict";e("e39c")},"5e20":function(t,a,e){"use strict";e("8746")},"62ca":function(t,a,e){"use strict";e("88e4")},6761:function(t,a,e){"use strict";e("ed13")},"7bca":function(t,a,e){},8369:function(t,a,e){t.exports=e.p+"../../static/vue-build/img/360registry-color.52be2c5c.svg"},"858b":function(t,a,e){"use strict";e("3b13")},8746:function(t,a,e){},"88e4":function(t,a,e){},"8a34":function(t,a,e){},"91ed":function(t,a,e){t.exports=e.p+"../../static/vue-build/img/chevron_down.0be3735f.svg"},9849:function(t,a,e){},a32a:function(t,a,e){},a979:function(t,a,e){},ad36:function(t,a,e){"use strict";e("a979")},d2ec:function(t,a,e){"use strict";e("8a34")},d5fb:function(t,a,e){"use strict";e("7bca")},d8f8:function(t,a,e){"use strict";e("a32a")},e39c:function(t,a,e){},ed13:function(t,a,e){}});
//# sourceMappingURL=app.e6d60a6c.js.map