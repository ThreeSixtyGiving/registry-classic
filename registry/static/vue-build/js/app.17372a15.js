(function(a){function e(e){for(var i,r,o=e[0],l=e[1],c=e[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(a[i]=l[i]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),t()}function t(){for(var a,e=0;e<n.length;e++){for(var t=n[e],i=!0,o=1;o<t.length;o++){var l=t[o];0!==s[l]&&(i=!1)}i&&(n.splice(e--,1),a=r(r.s=t[0]))}return a}var i={},s={app:0},n=[];function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return a[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=a,r.c=i,r.d=function(a,e,t){r.o(a,e)||Object.defineProperty(a,e,{enumerable:!0,get:t})},r.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},r.t=function(a,e){if(1&e&&(a=r(a)),8&e)return a;if(4&e&&"object"===typeof a&&a&&a.__esModule)return a;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:a}),2&e&&"string"!=typeof a)for(var i in a)r.d(t,i,function(e){return a[e]}.bind(null,i));return t},r.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return r.d(e,"a",e),e},r.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;n.push([0,"chunk-vendors"]),t()})({0:function(a,e,t){a.exports=t("56d7")},"0157":function(a,e,t){"use strict";t("c6aa")},"1b28":function(a,e,t){},"1d3e":function(a,e,t){"use strict";t("2da2")},"21b0":function(a,e,t){a.exports=t.p+"../../static/vue-build/img/cc.5e3c5ec4.svg"},2678:function(a,e,t){},2948:function(a,e,t){},"2da2":function(a,e,t){},"34b6":function(a,e,t){"use strict";t("86cd")},3957:function(a,e,t){},"3b13":function(a,e,t){},"3e95":function(a,e,t){a.exports=t.p+"../../static/vue-build/img/info.0d4c74a5.svg"},"4cfc":function(a,e,t){"use strict";t("2948")},5146:function(a,e,t){},"56d7":function(a,e,t){"use strict";t.r(e);t("e260"),t("e6cf"),t("cca6"),t("a79d");var i=t("2b0e"),s=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("router-view")},n=[],r={name:"App"},o=r,l=t("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null),d=c.exports,u=t("8c4f"),m=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"layout layout--single-column"},[t("Nav"),t("hr",{staticClass:"separator-light"}),t("main",[t("div",{staticClass:"layout__content dashboard-page"},[t("TopStats"),t("Tabs"),t("router-view")],1)]),t("Footer")],1)},p=[],h=function(){var a=this,e=a.$createElement;a._self._c;return a._m(0)},v=[function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("div",{staticClass:"nav-bar nav-bar--minimal"},[i("a",{staticClass:"nav-bar__home-button",attrs:{href:"/"}},[i("img",{attrs:{src:t("8369"),alt:"360Registry"}}),i("span",{staticClass:"nav-bar__product-name"},[a._v("Dashboard")])]),i("nav",{staticClass:"nav-bar__nav-menu"},[i("ul",[i("li",{staticClass:"nav-menu__item"},[a._v(" Based on data published by UK grantmakers in the 360Giving Data Standard ")])])])])}],b={name:"Nav"},_=b,f=Object(l["a"])(_,h,v,!1,null,null,null),g=f.exports,y=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"cards-section"},[t("section",{key:"ready-"+a.dataDownloaded,staticClass:"grid grid--four-columns"},[t("div",{staticClass:"base-card base-card--yellow grid__1"},[t("div",{staticClass:"base-card__content"},[a.dataDownloaded?a._e():t("Spinner"),a.dataDownloaded?t("h2",{staticClass:"base-card__title"},[a._v(a._s(a.stats.grants.toLocaleString()))]):a._e(),t("p",{staticClass:"base-card__text"},[a._v("Grants")])],1)]),t("div",{staticClass:"base-card base-card--orange grid__1"},[t("div",{staticClass:"base-card__content"},[a.dataDownloaded?a._e():t("Spinner"),a.dataDownloaded?t("h2",{staticClass:"base-card__title"},[a._v(a._s(a.stats.recipients.toLocaleString()))]):a._e(),t("p",{staticClass:"base-card__text"},[a._v("Recipients")])],1)]),t("div",{staticClass:"base-card base-card--teal grid__1"},[t("div",{staticClass:"base-card__content"},[a.dataDownloaded?a._e():t("Spinner"),a.dataDownloaded?t("h2",{staticClass:"base-card__title"},[a._v("Unknown")]):a._e(),t("p",{staticClass:"base-card__text"},[a._v("Funders")])],1)]),t("div",{staticClass:"base-card base-card--red grid__1"},[t("div",{staticClass:"base-card__content"},[a.dataDownloaded?a._e():t("Spinner"),a.dataDownloaded?t("h2",{staticClass:"base-card__title"},[a._v("£"+a._s(a.stats.GBP))]):a._e(),t("p",{staticClass:"base-card__text"},[a._v("Total")])],1)])])])},C=[],w=(t("b0c0"),t("d3b7"),t("99af"),t("6612")),x=t.n(w),D=function(){var a=this,e=a.$createElement;a._self._c;return a._m(0)},L=[function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"lds-ellipsis"},[t("div"),t("div"),t("div"),t("div")])}],N={name:"Spinner"},M=N,k=(t("d5fb"),Object(l["a"])(M,D,L,!1,null,"e0903488",null)),I=k.exports,O={name:"TopStats",components:{Spinner:I},data:function(){return{stats:{grants:null,recipients:null,GBP:null},dataDownloaded:!1}},methods:{getData:function(){var a=this;this.dataDownloaded=!1;var e="publisher"===this.$router.currentRoute.name?"/publisher/".concat(this.$router.currentRoute.params.id):"/overview?mode=publishers";fetch("".concat("http://store.dev.default.threesixtygiving.uk0.bigv.io/api/dashboard").concat(e)).then((function(a){return a.json()})).then((function(e){a.stats=e.aggregate.total;var t=x()(e.aggregate.total.GBP);a.stats.GBP=t.format("( 0.00 a)"),a.dataDownloaded=!0})).catch((function(a){console.error("Error:",a)}))}},created:function(){this.getData()}},q=O,F=(t("b8a3"),Object(l["a"])(q,y,C,!1,null,"4a341c01",null)),R=F.exports,S=function(){var a=this,e=a.$createElement;a._self._c;return a._m(0)},E=[function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("footer",{staticClass:"layout__footer"},[t("footer",{staticClass:"footer footer--compact"},[t("div",{staticClass:"footer__row wrapper footer__small-print"},[t("div",{staticClass:"footer__column-1"},[t("div",{staticClass:"footer__logo"},[t("img",{attrs:{src:"/images/360-giving-logo-white.svg",alt:"360Giving"}})])]),t("div",{staticClass:"footer__column-2 footer__policy-links"},[t("p",[t("strong",[a._v("360 Giving")]),a._v(" (Trading as "),t("strong",[a._v("360Giving")]),a._v(") is a registered charity "),t("a",{attrs:{href:"https://register-of-charities.charitycommission.gov.uk/charity-details/?regId=1164883&subId=0"}},[a._v("1164883")]),a._v(" and a registered company "),t("a",{attrs:{href:"https://beta.companieshouse.gov.uk/company/09668396"}},[a._v("09668396")]),a._v(". "),t("br"),a._v("Registered address: 360Giving, c/o Esmée Fairbairn Foundation, Kings Place, 90 York Way, London N1 9AG. ")])])]),t("div",{staticClass:"footer__row wrapper footer__small-print"},[t("div",{staticClass:"footer__column-2"},[t("p",[a._v("© Copyright 2021 360Giving."),t("br"),a._v("Licensed under a "),t("a",{attrs:{href:"#",target:"_blank"}},[a._v("Creative Commons Attribution 4.0 International License")]),a._v(".")])]),t("div",{staticClass:"footer__column-2 footer__policy-links hide-print"},[t("p",[t("a",{attrs:{href:"#"}},[a._v("Privacy Notice")]),a._v(" | "),t("a",{attrs:{href:"#"}},[a._v("Terms & Conditions")]),a._v(" | "),t("a",{attrs:{href:"#"}},[a._v("Cookie Policy")]),a._v(" | "),t("a",{attrs:{href:"#"}},[a._v("Take Down Policy")]),a._v(" | "),t("a",{attrs:{href:"#"}},[a._v("License")])])])])])])}],T={name:"Footer"},j=T,P=Object(l["a"])(j,S,E,!1,null,null,null),$=P.exports,G=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",["publisher"!==a.$router.currentRoute.name?t("div",{staticClass:"tabs"},[t("span",{class:"tab tab"+("overview"===a.$router.currentRoute.name?"--active":"--inactive")},[t("a",{staticClass:"tab__inner",attrs:{href:"/overview"}},[a._v("Overview")])]),t("span",{class:"tab tab"+("publishers"===a.$router.currentRoute.name?"--active":"--inactive")},[t("a",{staticClass:"tab__inner",attrs:{href:"/publishers"}},[a._v("Publishers")])]),t("span",{staticClass:"tabs-empty-bar"})]):a._e(),"publisher"===a.$router.currentRoute.name?t("div",[t("a",{staticClass:"dashboard-page__back-link",attrs:{href:"/publishers"}},[t("MaterialIcon",{attrs:{iconName:"arrow_back"}}),a._v(" Back to Publishers ")],1)]):a._e()])},B=[],A=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"icon",style:"orange"===a.color?"--icon-color: var(--color-orange)":""},[a.overlaidText?t("span",{staticClass:"icon__overlaid-text"},[a._v(a._s(a.overlaidText))]):t("i",{staticClass:"material-icons icon__mat-icon"},[a._v(a._s(a.iconName))])])},U=[],Y={name:"MaterialIcon",props:{overlaidText:null,iconName:null,color:null}},V=Y,J=(t("5b93"),Object(l["a"])(V,A,U,!1,null,"426134c8",null)),X=J.exports,H={name:"Tabs",components:{MaterialIcon:X}},z=H,K=(t("62ca"),Object(l["a"])(z,G,B,!1,null,null,null)),W=K.exports,Q={name:"HomePage",components:{Nav:g,TopStats:R,Footer:$,Tabs:W}},Z=Q,aa=(t("858b"),Object(l["a"])(Z,m,p,!1,null,"510c3ad0",null)),ea=aa.exports,ta=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("div",{staticClass:"dashboard-page__section-radios"},[t("RadioButtons",{attrs:{overviewMode:a.overviewMode},on:{setOverviewMode:function(e){return a.setOverviewMode(e)}}})],1),t("div",{staticClass:"spacer-2 clearfix"}),a.dataDownloaded?a._e():t("div",[t("Spinner",{key:a.dataDownloaded})],1),a.dataDownloaded?t("div",[a._l(a.cards,(function(e,i){return t("DashboardCard",{key:"card-"+i,attrs:{overviewMode:a.overviewMode,cardData:e},on:{showModalEvent:function(e){return a.controlModal(!0,e)}}})})),a.modalState?t("Modal",{key:this.modalRef,attrs:{cardData:this.cards.find((function(e){return e.modalRef===a.modalRef}))},on:{hideModalEvent:function(e){return a.controlModal(!1)}}}):a._e()],2):a._e(),t("div",{staticClass:"spacer-2 clearfix"})])},ia=[],sa=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{class:"dashboard-stats-card "+("grants"===a.overviewMode?"dashboard-stats-card--grant":"")},[t("div",{staticClass:"dashboard-stats-card__head"},[t("div",{staticClass:"dashboard-stats-card__left-side"},[t("h3",{staticClass:"dashboard-stats-card__title"},[a._v(a._s(a.cardData.title))]),t("p",{staticClass:"dashboard-stats-card__description"},[a._v(a._s(a.cardData.description))])]),a.cardData.infoLabel?t("div",{staticClass:"dashboard-stats-card__right-side"},[t("AlertTag",a._g({attrs:{label:a.cardData.infoLabel,modalRef:a.cardData.modalRef}},a.$listeners))],1):a._e()]),t("div",{staticClass:"dashboard-stats-card__groups"},a._l(a.cardData.stats,(function(e,i){return t("div",{key:i,staticClass:"dashboard-stats-card__group"},[t("MaterialIcon",{attrs:{iconName:e.iconName,color:"publishers"===a.overviewMode?"teal":"orange"}}),t("span",{attrs:{id:"stat-"+i}},[a._v(a._s(e.label))]),t("span",{staticClass:"dashboard-stats-card__value",attrs:{"aria-labelledby":"stat-"+i}},[a._v(a._s(e.value))])],1)})),0),t("div",{staticClass:"spacer-2"}),a.cardData.graph?t("div",[t("hr",{staticClass:"separator-light"}),t("div",{staticClass:"graph-label"},[a._v(a._s(a.cardData.graph_description))]),t("Plotly",{attrs:{data:a.cardData.graph.data,layout:a.cardData.graph.layout}})],1):a._e()])},na=[],ra=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("a",{staticClass:"alert-tag alert-tag--anchor",on:{click:function(e){return a.showModal(a.modalRef)}}},[a._m(0),t("span",{staticClass:"alert-tag__content"},[a._v(a._s(a.label))])])},oa=[function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("span",{staticClass:"alert-tag__icon"},[i("img",{attrs:{src:t("3e95"),alt:""}})])}],la={name:"AlertTag",props:{modalRef:{type:String,default:""},label:{type:String,default:""}},methods:{showModal:function(){this.$emit("showModalEvent",this.modalRef)}}},ca=la,da=Object(l["a"])(ca,ra,oa,!1,null,null,null),ua=da.exports,ma=t("04d1"),pa={name:"DashboardCard",components:{AlertTag:ua,MaterialIcon:X,Plotly:ma["Plotly"]},props:{overviewMode:String,cardData:{title:"",description:"",infoLabel:"",stats:[{label:"",values:"",iconName:""}]}}},ha=pa,va=(t("9d7c"),Object(l["a"])(ha,sa,na,!1,null,"41265c10",null)),ba=va.exports,_a=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"radio-buttons"},a._l(a.radioOptions,(function(e){return t("div",{key:e.value,staticClass:"radio-buttons__group",on:{click:function(t){return a.setOverviewMode(e.value)}}},[t("input",{staticClass:"screen-reader-only",attrs:{type:"radio",id:e.value,name:"overviewMode"},domProps:{value:e.value,checked:a.overviewMode===e.value}}),t("label",{staticClass:"radio-buttons__button",attrs:{for:e.value}},[a._v(a._s(e.name))])])})),0)},fa=[],ga={name:"RadioButtons",data:function(){return{radioOptions:[{name:"Publishers",value:"publishers",default:!0},{name:"Grants",value:"grants"}]}},props:{overviewMode:String},methods:{setOverviewMode:function(a){this.$emit("setOverviewMode",a)}}},ya=ga,Ca=Object(l["a"])(ya,_a,fa,!1,null,null,null),wa=Ca.exports,xa=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"modal modal--shown dashboard-modal",attrs:{id:"modal-00"}},[t("div",{staticClass:"modal__overlay modal__trigger",attrs:{"data-id":"modal-00"},on:{click:a.hideModal}}),t("div",{staticClass:"modal__window"},[t("button",{staticClass:"modal__close modal__trigger",attrs:{"data-id":"modal-00"},on:{click:a.hideModal}}),t("div",{staticClass:"modal__content"},[t("h3",[a._v(a._s(a.cardData.infoLabel))]),t("p",[a._v(a._s(a.cardData.description))]),t("hr",{staticClass:"separator-light"}),a._l(a.cardData.stats,(function(e){return t("div",{key:e.iconName},[t("div",{staticClass:"dashboard-modal__groups"},[t("div",{staticClass:"dashboard-modal__group"},[t("div",{staticClass:"dashboard-modal__stat"},[t("span",[t("MaterialIcon",{attrs:{iconName:e.iconName}})],1),t("span",[a._v(a._s(e.label))]),t("span",{staticClass:"dashboard-modal__stat-value-placeholder"},[a._v(a._s(e.value))])])]),t("div",{staticClass:"dashboard-modal__group"},[t("h4",{staticClass:"dashboard-modal__subtitle"},[a._v("This means")]),t("p",[a._v(a._s(e.modalMeaning))]),t("h4",{staticClass:"dashboard-modal__subtitle"},[a._v("This is useful because")]),t("p",[a._v(a._s(e.modalReason))])])]),t("hr",{staticClass:"separator-light"})])}))],2)])])},Da=[],La={name:"Modal",components:{MaterialIcon:X},methods:{hideModal:function(){this.$emit("hideModalEvent")}},props:{modalState:String,cardData:{}}},Na=La,Ma=(t("5af8"),Object(l["a"])(Na,xa,Da,!1,null,"6ae567fa",null)),ka=Ma.exports,Ia=(t("159b"),t("b64b"),function(a){return parseInt(100*a)}),Oa=function(a){var e=a.quality,t=a.aggregate,i=a.minAwardYears;return Object.keys(i).forEach((function(a){return i[a]=Ia(i[a])})),[{title:"Location data",description:"Grants with location data can be used to map grants, and help people understand where the money goes.\n",infoLabel:"Learn more about location data",modalRef:"location_data",stats:[{iconName:"person_pin_circle",label:"Include recipient locations",value:"".concat(Ia(e.hasRecipientOrgLocations),"%"),modalMeaning:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.",modalReason:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas."},{iconName:"edit_location",label:"Include beneficiary location names",value:"".concat(Ia(e.hasBeneficiaryLocationName),"%"),modalMeaning:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.",modalReason:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas."},{iconName:"add_location",label:"Include beneficiary location codes",value:"".concat(Ia(e.hasBeneficiaryLocationCodes),"%"),modalMeaning:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.",modalReason:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas."}]},{title:"Organisation identifiers",description:"Org IDs help users to understand who is involved in each grant. External\norg IDs are used to show when funders give grants to the same\nrecipient and allow grants data to be linked to official sources of\norganisation data.\n",infoLabel:"Learn more about organisation identifiers",modalRef:"org_ids",stats:[{iconName:"tag",label:"Include charity or company nos.",value:"Unknown",modalMeaning:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.",modalReason:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas."},{iconName:"confirmation_number",label:"Include external org IDs for at least 50% of recipients",value:"Unknown",modalMeaning:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.",modalReason:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas."}],graph:{data:[{x:[0,20,40,60,80,100],y:[10,10,10,10,10,10],type:"bar",marker:{color:["#153634","#DE6E26","#4DACB6","#EFC329","#BC2C26","#FFFFF"]}}],layout:{title:"**** Mock Data - Percentage of recipients with external org IDs ****",xaxis:{type:"category",title:"# of Publishers"},yaxis:{title:"% with external org IDs"}}}},{title:"Grant data",description:"All 360Giving data includes information about award amounts,\naward dates and the purpose of each grant. Information about the grant\nduration, grant programmes names and classifications help users to\nunderstand more context for each grant.\n",infoLabel:"Learn more about grant data",modalRef:"grant_data",stats:[{iconName:"event_note",label:"Include grant duration",value:"".concat(Ia(e.hasGrantDuration),"%"),modalMeaning:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.",modalReason:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas."},{iconName:"format_quote",label:"Include programme names",value:"".concat(Ia(e.hasGrantProgrammeTitle),"%"),modalMeaning:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.",modalReason:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas."},{iconName:"label",label:"Include classifications",value:"".concat(Ia(e.hasGrantClassification),"%"),modalMeaning:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.",modalReason:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas."}]},{title:"Metadata",description:"360Giving is a file-based data standard, supporting both spreadsheet and JSON publishing",infoLabel:"Learn more about Metadata",modalRef:"metadata",graph:{data:[{x:[Ia(t.csvFiles),Ia(t.xlsxFiles),Ia(t.odsFiles),Ia(t.jsonFiles)],y:["CSV","XLSX","ODF","JSON"],type:"bar",orientation:"h",marker:{color:["#153634","#DE6E26","#4DACB6","#EFC329","#BC2C26","#FFFFF"]}}],layout:{title:"Number of publishers using each file type",yaxis:{type:"category",title:"File type"},xaxis:{title:"% using file type"}}}},{title:"Data updates",description:"Timely updates provide users with an up-to-date picture of grantmaking.\nPublishers make updates at different frequencies; annual, biannual, quarterly, monthly\nor some publish in real-time.\n",infoLabel:"Learn more about data updates",modalRef:"data_updates",stats:[{iconName:"event_available",label:"Have published in the last year",value:"".concat(Ia(t.publishedThisYear),"%"),modalMeaning:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.",modalReason:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas."},{iconName:"event_available",label:"Have published in the last month",value:"".concat(Ia(t.publishedThisMonth),"%"),modalMeaning:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.",modalReason:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas."}],graph:{data:[{x:["2012","2013","2014","2015","2016","2017","2018","2019","2020","2021"],y:[i["2012"],i["2013"],i["2014"],i["2015"],i["2016"],i["2017"],i["2018"],i["2019"],i["2020"],i["2021"]],type:"bar",marker:{color:"#DE6E26"}}],layout:{title:"# of publishers with grants beginning in a given year",yaxis:{title:"# of publishers"},xaxis:{title:"Year",type:"category"}}}}]},qa=function(a){var e=a.quality,t=a.aggregate,i=t.grantsByYear;return[{title:"Location data",description:"Grants with location data can be used to map grants, and help people understand where the money goes.\n",infoLabel:"Learn more about location data",modalRef:"location_data",stats:[{iconName:"person_pin_circle",label:"Include recipient locations",value:"".concat(Ia(e.hasRecipientOrgLocations),"%"),modalMeaning:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.",modalReason:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas."},{iconName:"edit_location",label:"Include beneficiary location names",value:"".concat(Ia(e.hasBeneficiaryLocationName),"%"),modalMeaning:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.",modalReason:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas."},{iconName:"add_location",label:"Include beneficiary location codes",value:"".concat(Ia(e.hasBeneficiaryLocationCodes),"%"),modalMeaning:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.",modalReason:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas."}]},{title:"Organisation identifiers",description:"Org IDs help users to understand who is involved in each grant. External\norg IDs are used to show when funders give grants to the same\nrecipient and allow grants data to be linked to official sources of\norganisation data.\n",infoLabel:"Learn more about organisation identifiers",modalRef:"org_ids",stats:[{iconName:"tag",label:"Include charity or company nos.",value:"Unknown",modalMeaning:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.",modalReason:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas."},{iconName:"confirmation_number",label:"Include external org IDs for at least 50% of recipients",value:"Unknown",modalMeaning:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.",modalReason:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas."}],graph:{data:[{x:[0,20,40,60,80,100],y:[10,10,10,10,10,10],type:"bar",marker:{color:["#153634","#DE6E26","#4DACB6","#EFC329","#BC2C26","#FFFFF"]}}],layout:{title:"**** Mock Data - Percentage of recipients with external org IDs ****",xaxis:{type:"category",title:"# of Publishers"},yaxis:{title:"% with external org IDs"}}}},{title:"Grant data",description:"All 360Giving data includes information about award amounts,\naward dates and the purpose of each grant. Information about the grant\nduration, grant programmes names and classifications help users to\nunderstand more context for each grant.\n",infoLabel:"Learn more about grant data",modalRef:"grant_data",stats:[{iconName:"event_note",label:"Include grant duration",value:"".concat(Ia(e.hasGrantDuration),"%"),modalMeaning:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.",modalReason:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas."},{iconName:"format_quote",label:"Include programme names",value:"".concat(Ia(e.hasGrantProgrammeTitle),"%"),modalMeaning:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.",modalReason:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas."},{iconName:"label",label:"Include classifications",value:"".concat(Ia(e.hasGrantClassification),"%"),modalMeaning:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.",modalReason:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas."}]},{title:"Metadata",description:"360Giving is a file-based data standard, supporting both spreadsheet and JSON publishing",infoLabel:"Learn more about Metadata",modalRef:"metadata",graph:{data:[{x:[Ia(t.csvFiles),Ia(t.xlsxFiles),Ia(t.odsFiles),Ia(t.jsonFiles)],y:["CSV","XLSX","ODF","JSON"],type:"bar",orientation:"h",marker:{color:["#153634","#DE6E26","#4DACB6","#EFC329","#BC2C26","#FFFFF"]}}],layout:{title:"Number of publishers using each file type",yaxis:{type:"category",title:"File type"},xaxis:{title:"% using file type"}}}},{title:"Data updates",description:"Timely updates provide users with an up-to-date picture of grantmaking.\nPublishers make updates at different frequencies; annual, biannual, quarterly, monthly\nor some publish in real-time.\n",infoLabel:"Learn more about data updates",modalRef:"data_updates",stats:[{iconName:"event_available",label:"Have published in the last year",value:"".concat(Ia(t.publishedThisYear),"%"),modalMeaning:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.",modalReason:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas."},{iconName:"event_available",label:"Have published in the last month",value:"".concat(Ia(t.publishedThisMonth),"%"),modalMeaning:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas.",modalReason:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nec quis ultricies vitae maecenas."}],graph:{data:[{x:["2012","2013","2014","2015","2016","2017","2018","2019","2020","2021"],y:[i["2012"],i["2013"],i["2014"],i["2015"],i["2016"],i["2017"],i["2018"],i["2019"],i["2020"],i["2021"]],type:"bar",marker:{color:"#DE6E26"}}],layout:{title:"# of grants beginning in a given year",yaxis:{title:"# of grants"},xaxis:{title:"Year",type:"category"}}}}]},Fa={name:"DashboardPage",components:{DashboardCard:ba,RadioButtons:wa,Modal:ka,Spinner:I},props:{publishers:{}},methods:{controlModal:function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.modalState=a,this.modalRef=e},setOverviewMode:function(a){this.overviewMode=a},searchFunction:function(){var a=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.dataDownloaded=!1;var t=null===e?"":["?mode=".concat(e)];fetch("".concat("http://store.dev.default.threesixtygiving.uk0.bigv.io/api/dashboard","/overview").concat(t)).then((function(a){return a.json()})).then((function(t){a.cards="publishers"===e?Oa(t):qa(t),a.dataDownloaded=!0})).catch((function(a){console.error("Error:",a)}))}},created:function(){this.searchFunction(this.overviewMode)},watch:{overviewMode:function(){this.searchFunction(this.overviewMode)}},data:function(){return{modalState:!1,modalRef:"",overviewMode:"publishers",cards:[],dataDownloaded:!1}}},Ra=Fa,Sa=(t("96f8"),Object(l["a"])(Ra,ta,ia,!1,null,"137a102f",null)),Ea=Sa.exports,Ta=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("main",{staticClass:"layout__content"},[t("div",{staticClass:"layout__content-inner"},[t("DataTable"),t("div",{staticClass:"spacer-2"}),t("SortFilter",{key:a.dataDownloaded,attrs:{sortValues:a.sortValues,publisherList:a.publisherList},on:{filterChange:function(e){return a.filterChange(e)}}}),t("div",{staticClass:"spacer-4"}),a.dataDownloaded?a._e():t("div",[t("Spinner",{key:a.dataDownloaded})],1),a.dataDownloaded?[a._l(a.publishers,(function(a){return t("PublisherResult",{key:a.prefix,attrs:{publisher:a}})})),t("div",{staticClass:"spacer-1"})]:a._e()],2)])},ja=[],Pa=t("ade3"),$a=t("5530"),Ga=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"dashboard-publisher-result"},[t("div",{staticClass:"dashboard-publisher-result__head"},[t("div",{staticClass:"dashboard-publisher-result__left-side"},[t("a",{staticClass:"dashboard-publisher-result__title"},[a._v(" "+a._s(a.publisher.name)+" ")])]),t("div",{staticClass:"dashboard-publisher-result__right-side"},[t("div",{staticClass:"dashboard-publisher-result__date"},[a._v(" Last update: "),t("time",{attrs:{datetime:a.publisher.aggregate.lastLastModified}},[a._v(a._s(new Date(a.publisher.aggregate.lastLastModified).toUTCString().substring(4,16)))])])])]),a._l(a.badges,(function(a,e){return t("span",{key:e,staticClass:"dashboard-publisher-result__badge"},[t("IconBadge",{attrs:{badge:a}})],1)})),t("hr",{staticClass:"separator-light"}),t("div",[t("h5",[a._v("Total grants published")]),t("div",[t("YearsChart",{attrs:{chart:a.chart}})],1),t("hr",{staticClass:"separator-light"})]),t("div",[t("a",{staticClass:"button",attrs:{href:a.$router.resolve({name:"publisher",params:{id:a.publisher.prefix,publisher:this.publisher}}).href}},[a._v("See More")])])],2)},Ba=[],Aa=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ul",{staticClass:"years-chart"},a._l(a.chart,(function(e,i){return t("li",{key:"item-"+i,staticClass:"years-chart__item",style:"--opacity: "+e.value/100+";"},[t("div",{staticClass:"years-chart__block",attrs:{"aria-label":e.detail,title:e.detail}},[t("span",[a._v(a._s(e.value_text))])]),t("div",{staticClass:"years-chart__label"},[a._v(a._s(e.label))])])})),0)},Ua=[],Ya={name:"YearsChart",props:{chart:{}}},Va=Ya,Ja=(t("d412"),Object(l["a"])(Va,Aa,Ua,!1,null,"51dcfb65",null)),Xa=Ja.exports,Ha=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("span",{staticClass:"icon-badge"},[t("MaterialIcon",{attrs:{iconName:a.badge.iconName}}),a._v(" "+a._s(a.badge.label)+" ")],1)},za=[],Ka={name:"IconBadge",components:{MaterialIcon:X},props:{badge:{}}},Wa=Ka,Qa=(t("664c"),Object(l["a"])(Wa,Ha,za,!1,null,"79030f60",null)),Za=Qa.exports,ae=(t("4de4"),t("caad"),t("2532"),[{qualityMetric:"hasGrantDuration",iconName:"event_note",label:"Include grant duration"},{qualityMetric:"hasGrantClassification",iconName:"label",label:"Include classifications"},{qualityMetric:"hasGrantProgrammeTitle",iconName:"format_quote",label:"Include programme names"},{qualityMetric:"hasRecipientOrgLocations",iconName:"",label:"Unknown Badge - Recipient Org Location"},{qualityMetric:"hasBeneficiaryLocationName",iconName:"edit_location",label:"Include grant location name"},{qualityMetric:"hasBeneficiaryLocationCodes",iconName:"location_on",label:"Include recipient location codes"}]),ee=function(a){var e=Object.keys(a).filter((function(e){return 1===a[e]?e:null}));return ae.filter((function(a){return e.includes(a.qualityMetric)}))},te=ee,ie=(t("4fad"),function(a){return Object.entries(a).filter((function(a){return a[0]<2011})).reduce((function(a,e){return a+e[1]}),0)}),se=function(a){return[{label:"Older data",value:ie(a),value_text:x()(ie(a)).format("( 0a)"),detail:"".concat(x()(ie(a)).format("( 0a)")," grants awarded before 2011")},{label:2011,value:a[2011],value_text:x()(a[2011]).format("( 0a)"),detail:"".concat(x()(a[2011]).format("( 0a)")," grants awarded in 2011")},{label:2012,value:a[2012],value_text:x()(a[2012]).format("( 0a)"),detail:"".concat(x()(a[2012]).format("( 0a)")," grants awarded in 2012")},{label:2013,value:a[2013],value_text:x()(a[2013]).format("( 0a)"),detail:"".concat(x()(a[2013]).format("( 0a)")," grants awarded in 2013")},{label:2014,value:a[2014],value_text:x()(a[2014]).format("( 0a)"),detail:"".concat(x()(a[2014]).format("( 0a)")," grants awarded in 2014")},{label:2015,value:a[2015],value_text:x()(a[2015]).format("( 0a)"),detail:"".concat(x()(a[2015]).format("( 0a)")," grants awarded in 2015")},{label:2016,value:a[2016],value_text:x()(a[2016]).format("( 0a)"),detail:"".concat(x()(a[2016]).format("( 0a)")," grants awarded in 2016")},{label:2017,value:a[2017],value_text:x()(a[2017]).format("( 0a)"),detail:"".concat(x()(a[2017]).format("( 0a)")," grants awarded in 2017")},{label:2018,value:a[2018],value_text:x()(a[2018]).format("( 0a)"),detail:"".concat(x()(a[2018]).format("( 0a)")," grants awarded in 2018")},{label:2019,value:a[2019],value_text:x()(a[2019]).format("( 0a)"),detail:"".concat(x()(a[2019]).format("( 0a)")," grants awarded in 2019")},{label:2020,value:a[2020],value_text:x()(a[2020]).format("( 0a)"),detail:"".concat(x()(a[2020]).format("( 0a)")," grants awarded in 2020")},{label:2021,value:a[2021],value_text:x()(a[2021]).format("( 0a)"),detail:"".concat(x()(a[2021]).format("( 0a)")," grants awarded in 2021")}]},ne=se,re={name:"PublisherResult",components:{YearsChart:Xa,IconBadge:Za},props:{publisher:{type:Object,required:!0}},data:function(){return{chart:ne(this.publisher.aggregate.awardYears),badges:te(this.publisher.quality)}}},oe=re,le=(t("0157"),Object(l["a"])(oe,Ga,Ba,!1,null,"c822dbfa",null)),ce=le.exports,de=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("section",{staticClass:"collapsed-table"},[t("details",{staticClass:"collapsed-table__details"},[a._m(0),t("div",{staticClass:"collapsed-table--content"},[t("div",{staticClass:"table table--zebra table--primary-light"},[t("table",[a._l(a.sections,(function(e,i){return[t("thead",{key:"th-"+i},[t("th",{attrs:{colspan:"3"}},[a._v(a._s(e.heading))])]),t("tbody",{key:"tb-"+i},[t("tr",a._l(e.items,(function(e,i){return t("td",{key:"data-"+i,staticClass:"table__lead-cell",attrs:{"data-header":a.header.th1}},[t("img",{attrs:{src:"@/assets/images/icons/"+e.iconName+".svg",alt:""}}),a._v(" "+a._s(e.label)+": "),t("strong",[a._v(a._s(e.value))])])})),0)])]}))],2)])])])])},ue=[function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("summary",[i("span",{staticClass:"summary-label"},[a._v("All publishers data")]),i("span",{staticClass:"summary-icon",attrs:{"aria-hidden":"true"}},[i("img",{attrs:{src:t("91ed"),alt:""}})])])}],me={name:"DataTable",data:function(){return{header:{th1:"Title",th2:"Description",th3:"Type",th4:"Required"},body:[{row:{cell1:"Identifier",cell2:"The unique identifier for this grant. Made up of your 360Giving prefix, and an identifier from your records. See the 360Giving Grant identifier guidance for details.",cell3:"string",cell4:!0}},{row:{cell1:"Title",cell2:"A title for this grant activity. This should be under 140 characters long.",cell3:"string",cell4:!0}},{row:{cell1:"Description",cell2:"A short description of this grant activity.",cell3:"string",cell4:!0}},{row:{cell1:"Currency",cell2:"The currency used in amounts. Use the three-letter <a href='#'>currency code from ISO 4217</a> eg: Use GBP for Pounds Sterling.",cell3:"string",cell4:!0}},{row:{cell1:"Amount Applied For",cell2:"Total amount applied for in numbers (do not include commas or currency symbols such as £). If you have provided detailed transaction information on a separate table, this should equal the sum of all the application transactions for this grant.",cell3:"number",cell4:!1}},{row:{cell1:"Amount Awarded",cell2:"Total amount awarded in numbers (do not include commas or currency symbols such as £). If you have provided detailed transaction information on a separate table, this should equal the sum of all the award transactions for this grant.",cell3:"number",cell4:!0}},{row:{cell1:"Amount Disbursed",cell2:"Total amount disbursed (paid) to this grantee when this record was last updated (in numbers: do not include commas or currency symbols such as £)). If you have provided detailed transaction information on a separate table, this should equal the sum of all the disbursement transactions for this grant.",cell3:"number",cell4:!1}},{row:{cell1:"Award Date",cell2:"When was the decision to award this grant made. The date should be written as YYYY-MM-DD, or in full date-time format.",cell3:"string",cell4:!0}}],sections:[{heading:"Location",items:[{icon:{icon_name:"add_location"},label:"Include recipient location codes",value:"Unknown"},{icon:{icon_name:"add_location"},label:"Include grant location name",value:"Unknown"},{icon:{icon_name:"add_location"},label:"Include grant location codes",value:"Unknown"}]},{heading:"Organisation Information",items:[{icon:{icon_name:"tag"},label:"Include charity or company nos.",value:"Unknown"},{icon:{icon_name:"confirmation_number"},label:"Include external org IDs",value:"Unknown"}]},{heading:"Grant Information",items:[{icon:{icon_name:"event_note"},label:"Include grant duration",value:"Unknown"},{icon:{icon_name:"format_quote"},label:"Include programme names",value:"Unknown"},{icon:{icon_name:"label"},label:"Include classifications",value:"Unknown"}]},{heading:"Files",items:[{icon:{icon_name:"reorder"},label:"Include metadata",value:"Unknown"},{icon:{overlaid_text:"json"},label:"Publish using JSON",value:"Unknown"},{icon:{overlaid_text:"xlsx"},label:"Publish using spreadsheets",value:"Unknown"}]},{heading:"Up To Date",items:[{icon:{icon_name:"event_available"},label:"Published data in the last year",value:"Unknown"},{icon:{icon_name:"event_available"},label:"Published data in the last month",value:"Unknown"}]}]}}},pe=me,he=(t("34b6"),Object(l["a"])(pe,de,ue,!1,null,"b0805578",null)),ve=he.exports,be=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("h4",[a._v("Sort: (not fully implemented)")]),t("div",{staticClass:"sort-filters"},a._l(a.filters,(function(e,i){return t("div",{key:"filter-"+i,staticClass:"sort-filters__select-wrapper"},[t("select",{directives:[{name:"model",rawName:"v-model",value:a.sortValues[e.id],expression:"sortValues[filter.id]"}],class:e.active?"sort-filters__filter-active aria-label='"+e.label+"'":"",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){var e="_value"in a?a._value:a.value;return e}));a.$set(a.sortValues,e.id,t.target.multiple?i:i[0])},function(e){return a.filterChange()}]}},[t("option",{attrs:{value:"",disabled:""}},[a._v(a._s(e.label))]),e.activeDefault?a._e():t("option",{attrs:{value:""}},[a._v("No Filter")]),a._l(e.options,(function(i,s,n){return t("option",{key:"option-"+n,domProps:{value:s||"",selected:e.activeDefault}},[a._v(a._s(i))])}))],2)])})),0)])},_e=[],fe={name:"SortFilter",props:{publisherList:{},sortValues:{}},data:function(){return{filters:[{id:"sort",label:"Please select a sorting option",active:!0,activeDefault:!0,options:{alphabeticallyAsc:"Alphabetically (ascending)",alphabeticallyDesc:"Alphabetically (descending)"}},{id:"publisher",label:"Filter by publisher",active:!0,options:this.publisherList},{id:"feature",label:"Filter by data feature",active:!1,options:{metadata:"Include metadata",externalIds:"Include external org IDs",locationCode:"Include location codes"}},{id:"file",label:"Filter by data file",active:!1,options:{csv:"CSV",json:"JSON",xlsx:"XLSX",ods:"ODS"}}]}},methods:{filterChange:function(){this.$emit("filterChange",this.sortValues)}}},ge=fe,ye=(t("1d3e"),Object(l["a"])(ge,be,_e,!1,null,"0430bbd4",null)),Ce=ye.exports,we={name:"PublisherPage",components:{PublisherResult:ce,DataTable:ve,SortFilter:Ce,Spinner:I},methods:{searchFunction:function(){var a=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.dataDownloaded=!1;var t={alphabeticallyAsc:"data__name",alphabeticallyDesc:"-data__name"},i=null===e?"":"&search=".concat(e.publisher,"&ordering=").concat(t[e.sort]);fetch("".concat("http://store.dev.default.threesixtygiving.uk0.bigv.io/api/dashboard","/publishers?format=json").concat(i)).then((function(a){return a.json()})).then((function(e){a.publishers=e,a.publisherList=e.reduce((function(a,e){return Object($a["a"])(Object($a["a"])({},a),{},Object(Pa["a"])({},e.prefix,e.name))}),a.publisherList),a.dataDownloaded=!0})).catch((function(a){console.error("Error:",a)}))},filterChange:function(a){this.sortValues=a,this.searchFunction(a)}},data:function(){return{publishers:{},publisherList:{},dataDownloaded:!1,sortValues:{sort:"alphabeticallyAsc",publisher:"",feature:"",file:""}}},created:function(){this.searchFunction()}},xe=we,De=Object(l["a"])(xe,Ta,ja,!1,null,null,null),Le=De.exports,Ne=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[a.dataDownloaded?a._e():t("div",[t("Spinner",{key:a.dataDownloaded})],1),a.dataDownloaded?t("div",{staticClass:"dashboard-publisher-result-wrapper"},[t("div",{staticClass:"dashboard-publisher-result__head"},[t("div",{staticClass:"dashboard-publisher-result__left-side"},[t("div",{staticClass:"dashboard-publisher-result__title"},[a._v(" "+a._s(a.publisher.title)+" ")])]),t("div",{staticClass:"dashboard-publisher-result__right-side"},[t("div",{staticClass:"dashboard-publisher-result__date"},[a._v(" Last update: "),t("time",{attrs:{datetime:a.publisher.aggregate.lastLastModified}},[a._v(a._s(new Date(a.publisher.aggregate.lastLastModified).toUTCString().substring(4,16)))])])])]),a._l(this.badges,(function(a,e){return t("span",{key:e,staticClass:"dashboard-publisher-result__badge"},[t("IconBadge",{attrs:{badge:a}})],1)})),t("hr",{staticClass:"separator-light"}),t("div",{staticClass:"spacer-1"}),t("div",{staticClass:"dashboard-publisher-result-wrapper__external-buttons align-right"},[t("a",{staticClass:"button",attrs:{href:"https://grantnav.threesixtygiving.org/publisher/"+a.publisher.prefix,target:"_blank"}},[a._v("See in GrantNav")])]),t("div",{staticClass:"spacer-3"}),t("div",{staticClass:"dashboard-publisher-result"},[t("h4",{staticClass:"dashboard-publisher-result__title"},[a._v("Total grants published")]),t("p",[a._v("The number of grants published by award year for the past 10 years, with the total grants published that were awarded 11 or more years ago.")]),t("YearsChart",{attrs:{chart:a.chart}})],1),t("div",{staticClass:"dashboard-publisher-result"},[t("h4",{staticClass:"dashboard-publisher-result__title"},[a._v("Datasets")]),t("p",[a._v(a._s(a.publisher.files_description))]),t("hr",{staticClass:"separator-light"}),a._l(a.publisher.files,(function(e,i){return t("FileSummary",{key:"files-"+i,attrs:{prefix:a.publisher.prefix,file:e}})}))],2)],2):a._e()])},Me=[],ke=(t("a15b"),function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("div",[i("div",{staticClass:"grid__1 align-right dashboard-publisher-result-wrapper__external-buttons align-right"},[i("a",{staticClass:"button button--black",attrs:{href:"https://insights.threesixtygiving.org/file/"+a.file.id,target:"_blank"}},[a._v("See in 360Insights")])]),i("div",{staticClass:"file-summary grid grid--three-columns"},[i("div",{staticClass:"grid__1"},[a._v(" "+a._s(a.file.distribution.title)+" ")]),i("div",{staticClass:"grid__1 align-right"},[i("span",{staticClass:"file-summary__label"},[a._v("Records")]),i("span",{staticClass:"file-summary__stat"},[a._v(a._s(a.file.grants))])]),i("div",{staticClass:"grid__1 align-right"},[i("span",{staticClass:"file-summary__label"},[a._v("Total Grants £")]),a._v(" Unknown "),i("span",{staticClass:"file-summary__stat"},[a._v(a._s(a.file.grant_total_shorthand))])]),i("div",{staticClass:"grid__1"},[i("span",{staticClass:"tag file-summary__specs"},[a._v(a._s(a.file.datagetter_data.file_type)+" – "+a._s(a.file.datagetter_data.file_size))])]),i("div",{staticClass:"grid__1 align-right"},[i("span",{staticClass:"file-summary__label"},[a._v("Valid data")]),a.file.datagetter_data.valid?i("MaterialIcon",{attrs:{iconName:"check_circle_outline"}}):i("MaterialIcon",{attrs:{iconName:"priority_high"}})],1),i("div",{staticClass:"grid__1 align-right"},[i("span",{staticClass:"file-summary__label"},[a._v("Licence")]),a._v(" Unknown "),"cc"===a.file.licence?i("span",{staticClass:"file-summary__native-icon"},[i("img",{attrs:{src:t("21b0"),alt:""}})]):i("span",{staticClass:"file-summary__stat"},[a._v(a._s(a.file.licence))])])]),i("hr",{staticClass:"separator-light"})])}),Ie=[],Oe={name:"FileSummary",components:{MaterialIcon:X},props:{file:{},prefix:{}}},qe=Oe,Fe=(t("df30"),Object(l["a"])(qe,ke,Ie,!1,null,"23af2955",null)),Re=Fe.exports,Se={name:"PublisherDetail",components:{YearsChart:Xa,FileSummary:Re,IconBadge:Za,Spinner:I},props:{id:{}},data:function(){return{publisher:{},dataDownloaded:{},badges:{},chart:{}}},methods:{searchFunction:function(){var a=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.dataDownloaded=!1;var t=null===e?"":["&search=".concat(e)].join("&");fetch("".concat("http://store.dev.default.threesixtygiving.uk0.bigv.io/api/dashboard","/publisher/").concat(this.id,"?format=json").concat(t)).then((function(a){return a.json()})).then((function(e){a.publisher=e,a.badges=te(e.quality),a.chart=ne(a.publisher.aggregate.awardYears),a.dataDownloaded=!0})).catch((function(a){console.error("Error:",a)}))}},created:function(){this.searchFunction()}},Ee=Se,Te=(t("4cfc"),Object(l["a"])(Ee,Ne,Me,!1,null,"675baa4e",null)),je=Te.exports;i["a"].use(u["a"]);var Pe=[{path:"/",redirect:"/overview"},{path:"/",component:ea,children:[{path:"/overview",name:"overview",component:Ea},{path:"/publishers",name:"publishers",component:Le},{path:"/publisher/:id",name:"publisher",component:je,props:!0}]}],$e=new u["a"]({mode:"history",routes:Pe}),Ge=$e;i["a"].config.productionTip=!1,new i["a"]({render:function(a){return a(d)},router:Ge,components:{App:d}}).$mount("#app")},"5af8":function(a,e,t){"use strict";t("3957")},"5b93":function(a,e,t){"use strict";t("784d")},"62ca":function(a,e,t){"use strict";t("88e4")},"664c":function(a,e,t){"use strict";t("82cc")},"77d0":function(a,e,t){},"784d":function(a,e,t){},"7bca":function(a,e,t){},"82cc":function(a,e,t){},8369:function(a,e,t){a.exports=t.p+"../../static/vue-build/img/360registry-color.52be2c5c.svg"},"858b":function(a,e,t){"use strict";t("3b13")},"86cd":function(a,e,t){},"88e4":function(a,e,t){},"91ed":function(a,e,t){a.exports=t.p+"../../static/vue-build/img/chevron_down.0be3735f.svg"},"96f8":function(a,e,t){"use strict";t("a77b")},"9d7c":function(a,e,t){"use strict";t("77d0")},a77b:function(a,e,t){},b8a3:function(a,e,t){"use strict";t("5146")},c6aa:function(a,e,t){},d412:function(a,e,t){"use strict";t("2678")},d5fb:function(a,e,t){"use strict";t("7bca")},df30:function(a,e,t){"use strict";t("1b28")}});
//# sourceMappingURL=app.17372a15.js.map